<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Äáº·t hÃ ng</title>
  <link rel="stylesheet" href="style-order.css">
  <script src="script.js" defer></script>
</head>
<body>

<header>
  <h1>ğŸ“ Äáº·t hÃ ng</h1>
</header>

<div class="container">
  <h2>Chi tiáº¿t Ä‘Æ¡n hÃ ng</h2>
  <div class="order-summary">
    <ul id="order-list"></ul>
    <p><strong>Tá»•ng tiá»n: </strong><span id="order-total">0</span> Ä‘</p>
  </div>

  <form id="order-form">
    <label>Há» vÃ  tÃªn</label>
    <input type="text" placeholder="Nháº­p há» tÃªn" required>

    <label>Sá»‘ Ä‘iá»‡n thoáº¡i</label>
    <input type="tel" placeholder="Nháº­p sá»‘ Ä‘iá»‡n thoáº¡i" required>

    <label>Äá»‹a chá»‰ giao hÃ ng</label>
    <textarea placeholder="Nháº­p Ä‘á»‹a chá»‰ Ä‘áº§y Ä‘á»§" required></textarea>

    <label>PhÆ°Æ¡ng thá»©c thanh toÃ¡n</label>
    <select>
      <option>Thanh toÃ¡n khi nháº­n hÃ ng (COD)</option>
      <option>Chuyá»ƒn khoáº£n ngÃ¢n hÃ ng</option>
      <option>VÃ­ Ä‘iá»‡n tá»­ (Momo, ZaloPay,...)</option>
    </select>

    <button type="submit">XÃ¡c nháº­n Ä‘áº·t hÃ ng</button>
  </form>
</div>

<div id="toast">Äáº·t hÃ ng thÃ nh cÃ´ng ğŸ‰</div>

<script>
  
  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  let list = document.getElementById("order-list");
  let total = cart.reduce((sum, p) => sum + p.price * p.quantity, 0);
  list.innerHTML = cart.map(p => 
    `<li><span>${p.name} x ${p.quantity}</span><span>${(p.price * p.quantity).toLocaleString()} Ä‘</span></li>`
  ).join("");
  document.getElementById("order-total").textContent = total.toLocaleString();

  document.getElementById("order-form").addEventListener("submit", function(e){
    e.preventDefault(); 
    showToast("Äáº·t hÃ ng thÃ nh cÃ´ng ğŸ‰");
    localStorage.removeItem("cart"); 
  });

  function showToast(msg) {
    let toast = document.getElementById("toast");
    toast.textContent = msg;
    toast.className = "show";
    setTimeout(() => {
      toast.className = toast.className.replace("show", "");
    }, 3000); 
  }
</script>


</body>
</html>
